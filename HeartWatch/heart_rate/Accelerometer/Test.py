
from HAR_Fall import call_model
import pandas as pd


data  = ['{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:28:06"}',
'{"_id": "6052e4dc605f500004ef6d3f", "data": [61,69,-1,41,0,-89,0,71,-1,40,0,-88,0,69,-1,38,0,-86,0,70,-1,35,0,-87,0,72,-1,35,0,-87,0,72,-1,34,0,-88,0,71,-1,35,0,-88,0,71,-1,38,0,-87,0,70,-1,39,0,-87,0,70,-1,38,0,-86,0,69,-1,36,0,-87,0,70,-1,37,0,-88,0,68,-1,40,0,-89,0,68,-1,33,0,-87,0,65,-1,38,0,-91,0,64,-1,39,0,-88,0,66,-1,29,0,-88,0,66,-1,9,0,-92,0,71,-1,-4,-1,-98,0,70,-1,1,0,-102,14], "app_date": "26/10/2021 00:27:06"}']


activity , fall  = call_model(data)
print(activity)
if fall[0][0] =='No Fall':
    fall_flag = False
else:
    fall_flag = True
    print(fall) 

# acc_orig = pd.read_csv(r'D:\Leily\DemoData\Yuvraj\Dataset/YuvrajData_sit_1252_1257.csv')
# acc_orig = acc_orig.iloc[: , 3]
# # acc_orig = acc_orig['Accelerometer']
# # acc_orig = acc_orig.iloc[3164:5050]
# acc_orig = acc_orig.iloc[::-1]
# print(acc_orig)
# count_w = 0
# count_r = 0
# count_s = 0
# fall_list = []
# for i in range( 0 , len(acc_orig) , 10): 
#     data = acc_orig.iloc[i : i+10] 
#     # print(data)
#     activity , fall  = call_model(data)
#     if len(activity) == 0:
#         break
#     if activity[0] == 'Walk':
#         count_w += 1
#     if activity[0] == 'run':
#         count_r += 1
#     if activity[0] == 'Sit':
#         count_s += 1        
#     print(activity)
#     print(fall)
#     if fall[0][0] != 'No Fall':
#         fall_list.append(fall[0][0])

# print('count_walk :' , count_w)
# print('count_sit :' , count_s)
# print('count_run :' , count_r)
# print('total :' , count_r+count_s+count_w)
# print(fall_list)